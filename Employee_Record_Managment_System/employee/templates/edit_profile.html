{% extends 'admin_base.html' %}

{% block main %}
<script>
    function checkpassword(){
    if(document.signup.pwd.value!=document.signup.cpwd.value){
    alert('Password and Confirm password field does not match');
    document.signup.cpwd.focus();
    return false;
    }
    return true;
    }
</script>
<div class="card shadow m-2">
    <div class="card-body">
        <h5 class="p-2" style="border-bottom: 2px solid">PROFILE</h5>
        <div class="container-fluid">
            <form method="post">
                {% csrf_token %}
                <!--For security in django forms-->
                <div class="form-row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" name="firstname" class="form-control" placeholder="Enter First Name" pattern="[A-Za-z]+" value="{{employee.user.first_name}}">
                        </div>
                    </div>
                     <div class="col-sm-6">
                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" name="lastname" class="form-control" placeholder="Enter Last Name" pattern="[A-Za-z]+" value="{{employee.user.last_name}}">
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label>Employee Code</label>
                            <input type="text" name="empcode" class="form-control" placeholder="Enter Employee Code" pattern="[0-9]+" value="{{employee.empcode}}">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Employee Department</label>
                            <input type="text" name="department" class="form-control" placeholder="Enter Department" value="{{employee.empdept}}" >
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Employee Designation</label>
                            <input type="text" name="designation" class="form-control" placeholder="Enter Designation" value="{{employee.designation}}" >
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Email ID</label>
                            <input type="email" name="emailid" class="form-control" placeholder="Enter Email ID" value="{{employee.user.username}}">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Contact</label>
                            <input type="text" name="contact" class="form-control" placeholder="Enter Contact" value="{{employee.Contact}}">
                        </div>
                    </div>
                     <div class="col-sm-6">
                        <div class="form-group">
                            <label>Joining Date : {{employee.joiningdate}}</label>
                            <input type="date" name="jdate" class="form-control" placeholder="Enter Joining Date" >
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Gender : {{employee.gender}}</label>
                            <select name="Gender" class="form-control">
                                <option value="none">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>
                    </div>


                </div>

                <input type="submit" value=Submit class="m-2 px-3 btn btn-primary">
            </form>

        </div>
    </div>

</div>
{% if error == "no" %}
<script>
    alert('Employee Profile has been Updated Successfully');
    window.location= ('{% url 'edit_profile' employee.id%}' );
</script>
{% endif %}
{% if error == "yes" %}
<script>
    alert('Something went wrong, Try again...');

</script>
{% endif %}

{% endblock %}